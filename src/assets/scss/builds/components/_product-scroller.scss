/**
 * Product Scroller Component Styles
 * Overrides for ats_product shortcode to work with Splide carousel
 */

.rfs-ref-product-scroller-wrapper {
	width: 100%;
	max-width: 100%;

	// Header with line through middle
	.rfs-ref-product-scroller-header {
		&::before {
			content: "";
			position: absolute;
			left: 0;
			right: 0;
			top: 50%;
			transform: translateY(-50%);
			height: 1px;
			background-color: #e5e7eb; // gray-200
			z-index: 0;
		}
	}

	// Ensure title is vertically aligned
	.rfs-ref-product-scroller-title {
		line-height: 1;
		display: flex;
		align-items: center;
		min-height: 32px; // Match button height
	}

	// Ensure nav buttons are vertically aligned
	.rfs-ref-product-scroller-nav {
		display: flex;
		align-items: center;
		min-height: 32px; // Match button height
	}

	// Ensure arrow buttons don't shrink
	.ats-heading-prev-arrow,
	.ats-heading-next-arrow {
		flex-shrink: 0;
	}

	// Carousel container
	.rfs-ref-product-carousel {
		width: 100%;
		max-width: 100%;

		&.splide {
			visibility: visible !important;
		}
	}

	// Override fixed width and display from ats_product shortcode
	.ats-product-card,
	article.ats-product-card,
	.splide__slide .ats-product-card,
	.splide__slide article.ats-product-card {
		width: 100% !important;
		max-width: 100% !important;
		min-width: 0 !important;
		display: flex !important; // Override inline-flex
		flex-direction: column !important;
		margin: 0 !important;
		box-sizing: border-box !important;

		// Ensure all child elements can shrink
		> * {
			min-width: 0 !important;
			max-width: 100% !important;
		}

		// Product images should scale
		img {
			width: 100% !important;
			height: auto !important;
			max-width: 100% !important;
		}
	}

	// Ensure Splide slides take full width but allow gaps
	.splide__slide {
		display: block !important;
		box-sizing: border-box !important;
		flex-shrink: 0 !important;

		.ats-product-card {
			height: 100%;
		}
	}

	// Let Splide handle track overflow
	.splide__track {
		width: 100%;
	}

	// Let Splide Grid extension handle the list layout
	.splide__list {
		margin: 0 !important;
		padding: 0 !important;
		width: 100%;
	}

	// Navigation arrows styling
	.splide__arrows {
		display: flex;
		gap: 0.5rem;
	}

	// Hide default Splide arrows (we're using custom ones in header)
	.splide__arrow {
		&:not(.ats-heading-prev-arrow):not(.ats-heading-next-arrow) {
			display: none;
		}
	}

	// Custom arrows styling
	.ats-heading-prev-arrow,
	.ats-heading-next-arrow {
		position: static;
		opacity: 1;

		&:disabled {
			display: none !important; // Hide when nothing to scroll
		}
	}
}
